<app-navbar></app-navbar>

<div class="upload-section">
  <h2>Upload Excel File</h2>
  <input type="file" (change)="onFileSelected($event)" />
</div>

<div *ngIf="weatherData.length > 0" class="weather-data">
  <h2>Weather Data</h2>
  
  <!-- Layout Selection Buttons -->
  <div class="layout-buttons">
    <button (click)="selectLayout(1)">Table View</button>
    <button (click)="selectLayout(2)">Card View</button>
    <button (click)="selectLayout(3)">List View</button>
    <button (click)="selectLayout(4)">Grid View</button>
    <button (click)="selectLayout(5)">Detailed View</button>
  </div>

  <!-- Layout Display -->
  <div [ngSwitch]="selectedLayout">

    <!-- Table View -->
    <div *ngSwitchCase="1" class="table-view">
      <table>
        <thead>
          <tr>
            <th>Country</th>
            <th>State</th>
            <th>District</th>
            <th>City</th>
            <th>Weather</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let item of weatherData">
            <td>{{ item.country }}</td>
            <td>{{ item.state }}</td>
            <td>{{ item.district }}</td>
            <td>{{ item.city }}</td>
            <td *ngIf="item.weather">
              <p>{{ item.weather.weather[0].description }}</p>
              <p>Temperature: {{ item.weather.main.temp }}</p>
              <p>Humidity: {{ item.weather.main.humidity }}</p>
            </td>
          </tr>
        </tbody>
      </table>
    </div>

    <!-- Card View -->
    <div *ngSwitchCase="2" class="card-container">
      <div *ngFor="let item of weatherData" class="card">
        <h3>{{ item.city }}</h3>
        <p>{{ item.country }}, {{ item.state }}, {{ item.district }}</p>
        <div *ngIf="item.weather">
          <p>{{ item.weather.weather[0].description }}</p>
          <p>Temperature: {{ item.weather.main.temp }}</p>
          <p>Humidity: {{ item.weather.main.humidity }}</p>
        </div>
      </div>
    </div>

    <!-- List View -->
    <div *ngSwitchCase="3" class="list-view">
      <div *ngFor="let item of weatherData" class="list-item">
        <h3>{{ item.city }}</h3>
        <p>{{ item.country }}, {{ item.state }}, {{ item.district }}</p>
        <div *ngIf="item.weather">
          <p>{{ item.weather.weather[0].description }}</p>
          <p>Temperature: {{ item.weather.main.temp }}</p>
          <p>Humidity: {{ item.weather.main.humidity }}</p>
        </div>
      </div>
    </div>

    <!-- Grid View -->
    <div *ngSwitchCase="4" class="grid-view">
      <div *ngFor="let item of weatherData" class="grid-item">
        <h3>{{ item.city }}</h3>
        <p>{{ item.country }}, {{ item.state }}, {{ item.district }}</p>
        <div *ngIf="item.weather">
          <p>{{ item.weather.weather[0].description }}</p>
          <p>Temperature: {{ item.weather.main.temp }}</p>
          <p>Humidity: {{ item.weather.main.humidity }}</p>
        </div>
      </div>
    </div>

    <!-- Detailed View -->
    <div *ngSwitchCase="5" class="detailed-view">
      <div *ngFor="let item of weatherData" class="detailed-item">
        <h3>{{ item.city }} ({{ item.country }}, {{ item.state }}, {{ item.district }})</h3>
        <div *ngIf="item.weather">
          <p><strong>Description:</strong> {{ item.weather.weather[0].description }}</p>
          <p><strong>Temperature:</strong> {{ item.weather.main.temp }}</p>
          <p><strong>Humidity:</strong> {{ item.weather.main.humidity }}</p>
          <p><strong>Wind Speed:</strong> {{ item.weather.wind.speed }}</p>
        </div>
      </div>
    </div>
  </div>
</div>

<div class="location-data">
  <h2>Countries</h2>
  <ul>
    <li *ngFor="let country of countries">{{ country.name }}</li>
  </ul>

  <h2>States</h2>
  <ul>
    <li *ngFor="let state of states">{{ state.name }}</li>
  </ul>

  <h2>Districts</h2>
  <ul>
    <li *ngFor="let district of districts">{{ district.name }}</li>
  </ul>

  <h2>Cities</h2>
  <ul>
    <li *ngFor="let city of cities">{{ city.name }}</li>
  </ul>
</div>

<app-footer></app-footer>
